<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的响应式网页</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>欢迎来到我的网页</h1>
        <p>这是一个展示响应式设计的示例页面。</p>
    </header>

    <main>
        <section class="text-section">
            <h2>关于我们</h2>
            <p>我们致力于提供高质量的信息和内容。无论您是使用电脑、平板还是手机访问，我们都希望您能获得最佳的浏览体验。</p>
            <p>这个网页是为了演示如何使用HTML和CSS创建一个在不同设备上都能良好显示的页面。</p>
        </section>

        <section class="image-section">
            <h2>精选图片</h2>
            <div class="image-gallery">
                <img src="微信图片_20240327102309.png" alt="图片1：你的自定义图片">
                <img src="微信图片_20240327102309.png" alt="图片2：你的自定义图片">
                <img src="微信图片_20240327102309.png" alt="图片3：你的自定义图片">
            </div>
        </section>

        <section class="datawrapper-section">
            <h2>数据可视化</h2>
            <div style="min-height:490px" id="datawrapper-vis-AMmJd">
                <script type="text/javascript" defer src="https://datawrapper.dwcdn.net/AMmJd/embed.js" charset="utf-8" data-target="#datawrapper-vis-AMmJd"></script>
                <noscript><img src="https://datawrapper.dwcdn.net/AMmJd/full.png" alt="" /></noscript>
            </div>
            <p>这是一个从Datawrapper嵌入的响应式数据图表，它将根据您的屏幕大小进行调整。</p>
        </section>

        <section class="datawrapper-section">
            <h2>更多数据详情</h2>
            <div style="min-height:502px" id="datawrapper-vis-xreEE">
                <script type="text/javascript" defer src="https://datawrapper.dwcdn.net/xreEE/embed.js" charset="utf-8" data-target="#datawrapper-vis-xreEE"></script>
                <noscript><img src="https://datawrapper.dwcdn.net/xreEE/full.png" alt="" /></noscript>
            </div>
            <p>这是另一个从Datawrapper嵌入的表格，展示了更多数据。</p>
        </section>
       <section class="datawrapper-section">
    <h2>可筛选数据表格</h2>
    <p>点击下面的按钮，可以筛选表格中的数据。</p>

    <div class="filter-buttons">
        <button class="filter-btn" onclick="filterTable('冰箱')">冰箱</button>
        <button class="filter-btn" onclick="filterTable('厨卫')">厨卫</button>
        <button class="filter-btn" onclick="filterTable('分类三')">分类三</button>
        <button class="filter-btn" onclick="filterTable('')">显示全部</button>
    </div>

    <div id="datawrapper-vis-oXdYf" style="width: 100%; min-height: 500px;">
      <script type="text/javascript" defer src="https://datawrapper.dwcdn.net/oXdYf/embed.js" charset="utf-8"></script>
    </div>

    <script type="text/javascript">
      function filterTable(category) {
        // 1. 定位到表格所在的容器
        var container = document.getElementById('datawrapper-vis-oXdYf');
        if (!container) {
          console.error('错误：找不到 ID 为 datawrapper-vis-oXdYf 的容器。');
          return;
        }

        // 2. 在容器内部寻找由 Datawrapper 创建的 iframe
        //    这是最关键的一步，确保我们操作的是正确的对象
        var iframe = container.querySelector('iframe');

        // 3. 如果找到了 iframe，就修改它的 src 链接来实现筛选
        if (iframe) {
          var baseUrl = 'https://datawrapper.dwcdn.net/oXdYf/1/'; // 基础链接，末尾的 /1/ 是版本号
          var newSrc = baseUrl;

          if (category) {
            // 如果传入了分类名，就附加搜索参数
            newSrc = baseUrl + '?search=' + encodeURIComponent(category);
          }
          
          // 只有当新的链接和当前链接不同时，才更新它，避免不必要的刷新
          if (iframe.src !== newSrc) {
            iframe.src = newSrc;
          }

        } else {
          // 4. 如果没找到 iframe，在控制台给出提示
          //    这通常意味着表格还没加载完，或者 embed.js 失败
          alert('表格尚未加载完毕，请稍等片刻再试。');
          console.warn('警告：点击筛选时，Datawrapper iframe 尚未准备就绪。');
        }
      }
    </script>
</section>
        <section class="table-section">
            <h2>数据表格</h2>
            <table>
                <thead>
                    <tr>
                        <th>项目</th>
                        <th>描述</th>
                        <th>状态</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>项目A</td>
                        <td>这是一个重要的项目。</td>
                        <td>完成</td>
                    </tr>
                    <tr>
                        <td>项目B</td>
                        <td>需要进一步的工作。</td>
                        <td>进行中</td>
                    </tr>
                    <tr>
                        <td>项目C</td>
                        <td>计划在下个月启动。</td>
                        <td>待开始</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 我的响应式网页. 保留所有权利。</p>
    </footer>
</body>
</html>
